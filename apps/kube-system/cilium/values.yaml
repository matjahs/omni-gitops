---
cilium:
  kubeProxyReplacement: true
  ipam:
    mode: kubernetes
  securityContext:
    capabilities:
      ciliumAgent:
        - CHOWN
        - KILL
        - NET_ADMIN
        - NET_RAW
        - IPC_LOCK
        - SYS_ADMIN
        - SYS_RESOURCE
        - DAC_OVERRIDE
        - FOWNER
        - SETGID
        - SETUID
      cleanCiliumState: [NET_ADMIN, SYS_ADMIN, SYS_RESOURCE]
  cgroup:
    host: /sys/fs/cgroup
    autoMount:
      enabled: false
  # Enable Cilium ingress controller
  ingressController:
    enabled: true
  # Use KubePrism to access cluster API
  k8sServiceHost: localhost
  k8sServicePort: 7445
  # Enable Hubble
  hubble:
    relay:
      enabled: true
    ui:
      enabled: true
      service:
        annotations:
          omni-kube-service-exposer.sidero.dev/label: Hubble
          omni-kube-service-exposer.sidero.dev/port: '50080'
  gatewayAPI:
    enabled: true
    enableAlpn: true
    enableAppProtocol: true
  l2announcements:
    enabled: true
    leaseDuration: 15s
    leaseRenewDeadline: 5s
    leaseRetryPeriod: 2s
  externalIPs:
    enabled: true
